<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>CebBlazor.Maui</title>
    <base href="/" />
    <link rel="stylesheet" href="css/site.min.css" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="CebBlazor.Maui.styles.css" rel="stylesheet" />

</head>

<body>

    <div class="status-bar-safe-area"></div>

    <div id="app">Loading...</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <script src="_framework/blazor.webview.js" autostart="false"></script>
    <script src="_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor.min.js" async type="text/javascript"></script>
    <script type="text/javascript">
        window.saveAsFile = (fileName, bytesBase64) => {
            var regex = new RegExp("[^.]+$");
            var extention = fileName.match(regex);
            var mimeType = "application/";

            switch (extention) {
                case "docx":
                    mimeType += "vnd.openxmlformats-officedocument.wordprocessingml.document";
                    break;
                case "xlsx":
                    mimeType += "vnd.openxmlformats-officedocument.spreadsheetml.sheet";
                    break;
                case "json":
                    mimeType += "json";
                    break;
                case "xml":
                    mimeType += "xml";
                    break;
            }

            var fileUrl = `data:${mimeType};base64,${bytesBase64}`;
            window.fetch(fileUrl)
                .then(response => response.blob())
                .then(blob => {
                    var link = window.document.createElement("a");
                    link.href = window.URL.createObjectURL(blob);
                    link.download = fileName ?? '';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                });
        };
    </script>

</body>

</html>